<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd"
        >

    <bean id="dataSource" class="oracle.jdbc.pool.OracleDataSource">
        <property name="URL" value="jdbc:oracle:thin:scott/tiger@localhost:1521:ORCL"/>
    </bean>

    <bean id="dao" class="ru.qwazer.scheme2ddl.Dao">
        <property name="dataSource" ref="dataSource"/>
        <property name="map">
            <map>
                <entry key="TABLE">
                    <set>
                        <value>COMMENT</value>
                        <value>INDEX</value>
                        <value>OBJECT_GRANT</value>
                        <value>TRIGGER</value>
                    </set>
                </entry>
                <entry key="VIEW">
                    <set>
                        <value>COMMENT</value>
                        <value>OBJECT_GRANT</value>
                    </set>
                </entry>
                <entry key="MATERIALIZED VIEW">
                    <set>
                        <value>COMMENT</value>
                        <value>INDEX</value>
                        <value>MATERIALIZED_VIEW_LOG</value>
                        <value>OBJECT_GRANT</value>
                    </set>

                </entry>
            </map>
        </property>
        <property name="transformParams" ref="transformParams_for_dbms_metadata"/>
        <property name="filterTypes" ref="types_for_getting_DDL"/>
    </bean>

    <util:set id="types_for_getting_DDL">
        <value>TABLE</value>
        <value>VIEW</value>
        <value>FUNCTION</value>
        <value>MATERIALIZED VIEW</value>
        <value>TRIGGER</value>
        <value>PACKAGE</value>
        <value>TYPE</value>
    </util:set>


    <bean id="fileWorker" class="ru.qwazer.scheme2ddl.FileWorker">
        <property name="outputPath" value="D:/temp/oracle-ddl2svn/CTK/DEV/"/>
        <property name="sortByDirectory" value="true"/>
    </bean>


    <util:map id="transformParams_for_dbms_metadata">
        <entry key="SEGMENT_ATTRIBUTES" value="0"/>
        <entry key="SQLTERMINATOR" value="1"/>
        <entry key="CONSTRAINTS_AS_ALTER" value="1"/>
    </util:map>

    <bean id="worker" class="ru.qwazer.scheme2ddl.Worker">
        <property name="dao" ref="dao"/>
        <property name="fileWorker" ref="fileWorker"/>
    </bean>


</beans>